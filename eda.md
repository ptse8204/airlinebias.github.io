---
title: "Exploratory Data Analysis"
excerpt: "Details of trends and results found in the datasets used in the project"
sitemap: true
permlink: /eda/
layout: single
---
![eda](https://user-images.githubusercontent.com/88422737/221440983-9d4ddf7f-cecb-4956-a573-19ed83a0c0bf.png)
*Image generated by DALL-E*

# Note
This page is still in development, some of the information and findings may be missing. The report provides more details than the website currently, [check the report for the details](https://ptse8204.github.io/flightpricebias/DSC180B_Report.pdf)

## Introduction and Abstracts of Findings

What are the thoughts when you are purchasing an flight ticket? Did you felt that you should be purchased it a bit earlier, or maybe a bit later so that prices would change? Though a lot of people knows that purchasing the fare at the last moment usually yield the highest price, it turns out that for average people, they purchase quite literally a very similar fare across the board. As our reaesrach shows, over 70% of all fares has a fare per mile of 20-30 cents.

We also found that most people are purchasing the median fare, rather than the highest fare or the lowest fare, as expected. These findings here helps aid our reasearch and model building the discover the bias related in the other sections.

Our scope of our data analysis spanned across over 5 years, from 2016 to until the Q3 of 2022 (the most current data when we have conducted the reaserach). In general, we discovered the significant impact of the pandemic to air travel and airfare prices, especially when comparing between pre-pandemic periods (2016-2019) with during the pandemic (2020-2021) and post-pandemic (2021-2022 Q3). Our other analysis found also found:
- Impact of flight distance on airfare
  - Ultra-short flights has a great impact on fare per mile
- Signifcant difference in fares between low-cost carriers and legacy carriers
  - Carriers defined as legacy carriers in our analysis are: American Airlines, Alaska Airlines, Delta Air Lines, United Airlines, Southwest Airlines, Jetblue, and Hawaiian Airlines.
  - Carriers defined as low-cost carriers in our analysis are: Frontier, Spirit and Allegiant Airlines.
- No significant variance between quarters in years
- Flight prices were relatively stable, even without factoring in inflation prior to the pandemic

## Datasets Used
* [Airline Origin and Destination Survey (DB1B) by the _Bureau of Transportation Statistics_](https://www.transtats.bts.gov/Tables.asp?QO_VQ=EFI&QO_anzr=Nv4yv0r%FDb4vtv0%FDn0q%FDQr56v0n6v10%FDf748rB%FD%FLQOEO%FM&QO_fu146_anzr=b4vtv0%FDn0q%FDQr56v0n6v10%FDf748rB)
* [Air Carrier Statistics (Form 41 Traffic)- All Carriers (T-100) (US only segment) by the _Bureau of Transportation Statistics_](https://www.transtats.bts.gov/Tables.asp?QO_VQ=EEE&QO_anzr=Nv4%FDPn44vr4%FDf6n6v56vp5%FD%FLS14z%FDHE%FDg4nssvp%FM-%FDNyy%FDPn44vr45&QO_fu146_anzr=Nv4%FDPn44vr45)
* [Median Household Income and Racial Demographics per Metropolitian Area by the _US Census Bureau_](https://www.census.gov/)

[**Click here for details of the dataset used**](eda_pages/dataset.md)

## Airline Origin and Destination Survey (DB1B) Findings
### Methodology Used for Feature Engineering and Data Cleaning
### General Statistics Findings
[**Due to page constrains, click here for the general findings**](eda_pages/db1b_general.md)
### Trends and Results Discovered During the Analysis
Page still in development, [check the report for the details](https://ptse8204.github.io/flightpricebias/DSC180B_Report.pdf)

## Air Carrier Statistics (T-100) Findings
### Subset of Dataset Used
In this dataset, we are only using the data that is a passenger flight, and filter the dataset using the code that we created in the [`t100.py` module](https://github.com/ptse8204/airlinedatabias/blob/main/src/t100.py). The code also generates statistics a key statistics that we used for our other models â€“ `LOAD_FACTOR`, defined as the ratio of total of passgeners count and total seat count.
### Trends and Results Discovered During the Analysis
Page still in development, [check the report for the details](https://ptse8204.github.io/flightpricebias/DSC180B_Report.pdf)

## US Census Findings
### Subset of Dataset Used
For simplicity, we only used the 2022 data of the Median Household Income and Racial Demographics per Metropolitian Area. The main reason is there is lack of significant difference between the protected groups as a results between this years. As both racial composition and income demographic in the US did not signifcantly shift during the fiver years of our analysis between the metropolitian areas, as low-income and highly racial intergrated areas remain the with the same subset of areas.
### Methodology Used for Feature Engineering and Data Cleaning
#### Connecting the US Census Bureau Data to Bureau of Transportation Statistics Data
As both dataset are not directly linked together, as they lacked a common variable between them. We decided to manually inspect and use `CityMarketID` of the _Bureau of Transportation Statistics_ to link with Statistical Metropolitain Areas defined by the _US Census Bureau_. As shown in [city_id_census.csv](https://github.com/ptse8204/airlinedatabias/blob/main/lookup/city_id_census.csv), we have successfully linked over 750 cities (which a usual DB1B set contains roughly 780 of them) by using this method to perform our analysis.
#### Median Household Income Trends and Results Discovered During the Analysis
Histogram of low and high income groups (may include location if time permits)
#### Racial Demographics Fearture Engineering
From the dataset, in order to identitfy a protected group and a privillage group, we decided to use colored population ratio of the total population to evaluate such.
(histogram of such feature)
(mean, mode, median)
